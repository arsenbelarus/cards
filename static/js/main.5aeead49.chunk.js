(this["webpackJsonpcards-nya"]=this["webpackJsonpcards-nya"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),o=n(8),c=n.n(o),i=(n(88),n(89),n(31)),u=n(11);!function(e){e.LOGIN="/login",e.RESTORE_PASSWORD="/password_restoration",e.REGISTRATION="/sign_up",e.PROFILE="/profile",e.NEW_PASSWORD="/new_password"}(a||(a={}));var s=n(24),m=n(74),d=n(20),E=n(69),p=n.n(E).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/"}),g=function(e){return p.post("auth/login",e)},f=function(e){return p.delete("auth/me")},v={avatar:"",email:null,created:null,isAdmin:null,name:null,publicCardPacksCount:null,rememberMe:null,token:"",tokenDeathTime:null,updated:null,verified:null},h=function(e){return{type:"SET-PROFILE",payload:e}},b={isLoggedIn:!1,appError:""},O=function(e){return{type:"SET-IS-LOGGED-IN",isLoggedIn:e}},w=n(141),R=n(149),k=n(145),I=n(147),S=n(150),L=n(148),y=n(146),P=function(){var e=Object(s.c)((function(e){return e.login.isLoggedIn})),t=Object(s.b)(),n=Object(m.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<4&&(t.password="Must be at least 4 characters long"):t.password="Required",t},onSubmit:function(e){var n;t((n=e,function(e){g(n).then((function(t){200===t.status&&(e(O(!0)),e(h(t.data)))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)})).finally()}))}});return e?l.a.createElement(u.a,{to:a.PROFILE}):l.a.createElement(w.a,{container:!0,justify:"center"},l.a.createElement(w.a,{item:!0,style:{padding:"20px",backgroundColor:"#efc700",color:"ivory",marginTop:"40px",borderRadius:"10px",textAlign:"center",boxShadow:"0 0 5px 1px lightgrey"}},l.a.createElement("form",{onSubmit:n.handleSubmit},l.a.createElement(R.a,null,l.a.createElement(k.a,null,l.a.createElement(I.a,Object.assign({label:"Email",margin:"normal"},n.getFieldProps("email"))),n.errors.email?l.a.createElement("div",{style:{color:"#282c34"}}," ",n.errors.email," "):null,l.a.createElement(I.a,Object.assign({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password"))),n.errors.password?l.a.createElement("div",{style:{color:"#282c34"}}," ",n.errors.password," "):null,l.a.createElement(S.a,{label:"Remember me",control:l.a.createElement(L.a,{onChange:n.handleChange,checked:n.values.rememberMe,name:"rememberMe"})}),l.a.createElement(y.a,{type:"submit",variant:"contained",color:"primary",style:{backgroundColor:"#282c34"}},"Login"))))))},T=function(){return l.a.createElement("div",null,"Registration page")},x=function(){return l.a.createElement("div",null,"Restore page")},A=function(){return l.a.createElement("div",null,"New Password page")},N=function(){var e=Object(s.c)((function(e){return e.profile})),t=Object(s.c)((function(e){return e.login.isLoggedIn})),n=Object(s.b)();if(!t)return l.a.createElement(u.a,{to:a.LOGIN});return l.a.createElement("div",null,l.a.createElement("h1",null,"Profile page"),l.a.createElement(y.a,{onClick:function(){var t;n((t=e.token,function(e){f(t).then((function(t){200===t.status&&(e(O(!1)),e(h({avatar:"",email:null,created:null,isAdmin:null,name:null,publicCardPacksCount:null,rememberMe:null,token:"",tokenDeathTime:null,updated:null,verified:null})))})).catch().finally()}))}}," Log Out "),l.a.createElement("div",null," ",e.name," "),l.a.createElement("div",null," ",e.email," "),l.a.createElement("div",null,l.a.createElement("img",{src:e.avatar,alt:""})," "," "))},j=function(){return l.a.createElement("div",null,"404 page")},_=function(){return l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",render:function(){return l.a.createElement(u.a,{to:a.PROFILE})}}),l.a.createElement(u.b,{exact:!0,path:a.LOGIN,render:function(){return l.a.createElement(P,null)}}),l.a.createElement(u.b,{exact:!0,path:a.NEW_PASSWORD,render:function(){return l.a.createElement(A,null)}}),l.a.createElement(u.b,{exact:!0,path:a.REGISTRATION,render:function(){return l.a.createElement(T,null)}}),l.a.createElement(u.b,{exact:!0,path:a.RESTORE_PASSWORD,render:function(){return l.a.createElement(x,null)}}),l.a.createElement(u.b,{exact:!0,path:a.PROFILE,render:function(){return l.a.createElement(N,null)}}),l.a.createElement(u.b,{path:"*",render:function(){return l.a.createElement(j,null)}}))},F=function(){return l.a.createElement(_,null)},C=n(54),G=n.n(C),W=function(e){var t=e.to,n=e.linkText;return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{to:t,className:G.a.navLink,activeClassName:G.a.active}," ",n," "))},D=function(){return l.a.createElement("div",null,l.a.createElement(W,{to:a.LOGIN,linkText:"Log In"}),l.a.createElement(W,{to:a.REGISTRATION,linkText:"Sign Up"}),l.a.createElement(W,{to:a.RESTORE_PASSWORD,linkText:"Forgot Password"}),l.a.createElement(W,{to:a.NEW_PASSWORD,linkText:"New Password"}),l.a.createElement(W,{to:a.PROFILE,linkText:"Profile"}))},M=function(){return l.a.createElement("div",null,l.a.createElement(i.a,null,l.a.createElement(D,null),l.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=n(36),K=n(73),q={},B={},J={},U=Object(Z.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IS-LOGGED-IN":return Object(d.a)({},e,{isLoggedIn:t.isLoggedIn});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(d.a)({},e);default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(d.a)({},e);default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(d.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PROFILE":return Object(d.a)({},e,{},t.payload);default:return e}}}),$=Object(Z.d)(U,Object(Z.a)(K.a));window.store=$,c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,{store:$},l.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,n){e.exports={navLink:"NavLinkCommom_navLink__26ksW",active:"NavLinkCommom_active__1HGZ7"}},83:function(e,t,n){e.exports=n(112)},88:function(e,t,n){},89:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.5aeead49.chunk.js.map